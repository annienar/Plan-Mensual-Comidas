{
  "llm_integration": {
    "context_management": {
      "max_context_tokens": 4000,
      "context_compression": true,
      "preserve_spanish_context": true,
      "required_context_fields": [
        "recipe_type",
        "language",
        "processing_stage"
      ]
    },
    "prompt_engineering": {
      "template_location": "core/llm/prompts/",
      "versioning": true,
      "testing_required": true,
      "spanish_prompts": {
        "use_formal_spanish": true,
        "include_cultural_context": true,
        "measurement_units": "metric"
      }
    },
    "response_validation": {
      "required_fields": [
        "nombre",
        "ingredientes", 
        "preparacion"
      ],
      "spanish_field_validation": true,
      "ingredient_format": "- cantidad unidad ingrediente",
      "max_retries": 3,
      "fallback_strategy": "rule_based_extraction"
    },
    "performance": {
      "timeout_seconds": 30,
      "cache_responses": true,
      "cache_location": "var/cache/llm/",
      "log_performance": "var/logs/llm_performance.log"
    },
    "error_handling": {
      "log_all_errors": true,
      "preserve_failed_requests": true,
      "failed_requests_location": "var/logs/llm_failures/",
      "retry_logic": {
        "max_attempts": 3,
        "backoff_strategy": "exponential",
        "retry_on": ["timeout", "rate_limit", "server_error"]
      }
    },
    "cost_management": {
      "track_token_usage": true,
      "monthly_budget_tokens": 1000000,
      "alert_at_percentage": 80,
      "log_usage": "var/logs/llm_usage.log"
    }
  }
} 